<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html, body {
            margin: 0;
            height: 200vh;
        }

        canvas {
            position: fixed;
        }
    </style>
</head>

<body>
    <canvas id="gl"></canvas>
</body>

<script type="module">
    import init from "./pkg/tests.js"
    const CANVAS = document.querySelector("canvas");

    setSize();
    window.onresize = setSize;

    async function start () {
        try {
            await init();
        } catch (e) {
            console.error(e)
        } finally {
            console.log("WASM loaded")
        }
    }

    function setSize () {
        let w = window.innerWidth;
        let h = window.innerHeight;

        CANVAS.style.width = w
        CANVAS.setAttribute("width", w)

        CANVAS.style.height = h
        CANVAS.setAttribute("height", h)
    }

    start()
</script>

</html>